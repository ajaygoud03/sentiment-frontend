{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import'./AnalyzePost.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AnalyzePost=_ref=>{let{setIsLoading,setError,setAnalysisResult,setPostText}=_ref;const[url,setUrl]=useState('');const handleAnalyze=async()=>{if(!url.trim()){setError('Please enter a post URL.');return;}setIsLoading(true);setError('');setAnalysisResult(null);setPostText('');try{const apiPath=process.env.NODE_ENV==='production'?'/api/fetch_and_analyze':'https://fluffy-telegram-q74xx7gr9x6w2xwvw-5000.app.github.dev';const response=await axios.post(apiPath,{url:url});setPostText(response.data.postText);setAnalysisResult({sentiment:response.data.sentiment,score:response.data.score});}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||'Failed to analyze the post.');console.error(err);}finally{setIsLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Analyze a Post\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:url,onChange:e=>setUrl(e.target.value),placeholder:\"Paste X post link here...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAnalyze,children:\"Analyze\"})]})]});};export default AnalyzePost;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","AnalyzePost","_ref","setIsLoading","setError","setAnalysisResult","setPostText","url","setUrl","handleAnalyze","trim","apiPath","process","env","NODE_ENV","response","post","data","postText","sentiment","score","err","_err$response","_err$response$data","error","console","className","children","type","value","onChange","e","target","placeholder","onClick"],"sources":["/home/ubuntu/Sentiment_Analysis-of-social-media/frontend/src/components/AnalyzePost.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport './AnalyzePost.css';\n\nconst AnalyzePost = ({ setIsLoading, setError, setAnalysisResult, setPostText }) => {\n    const [url, setUrl] = useState('');\n\n    const handleAnalyze = async () => {\n        if (!url.trim()) {\n            setError('Please enter a post URL.');\n            return;\n        }\n        setIsLoading(true);\n        setError('');\n        setAnalysisResult(null);\n        setPostText('');\n\n        try {\n            const apiPath = process.env.NODE_ENV === 'production' ? '/api/fetch_and_analyze' : 'https://fluffy-telegram-q74xx7gr9x6w2xwvw-5000.app.github.dev';\n\n            const response = await axios.post(apiPath, { url: url });\n            \n            setPostText(response.data.postText);\n            setAnalysisResult({\n                sentiment: response.data.sentiment,\n                score: response.data.score\n            });\n\n        } catch (err) {\n            setError(err.response?.data?.error || 'Failed to analyze the post.');\n            console.error(err);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"card\">\n            <h2>Analyze a Post</h2>\n            <div className=\"input-group\">\n                <input\n                    type=\"text\"\n                    value={url}\n                    onChange={(e) => setUrl(e.target.value)}\n                    placeholder=\"Paste X post link here...\"\n                />\n                <button onClick={handleAnalyze}>Analyze</button>\n            </div>\n        </div>\n    );\n};\n\nexport default AnalyzePost;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3B,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAgE,IAA/D,CAAEC,YAAY,CAAEC,QAAQ,CAAEC,iBAAiB,CAAEC,WAAY,CAAC,CAAAJ,IAAA,CAC3E,KAAM,CAACK,GAAG,CAAEC,MAAM,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAElC,KAAM,CAAAc,aAAa,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CAACF,GAAG,CAACG,IAAI,CAAC,CAAC,CAAE,CACbN,QAAQ,CAAC,0BAA0B,CAAC,CACpC,OACJ,CACAD,YAAY,CAAC,IAAI,CAAC,CAClBC,QAAQ,CAAC,EAAE,CAAC,CACZC,iBAAiB,CAAC,IAAI,CAAC,CACvBC,WAAW,CAAC,EAAE,CAAC,CAEf,GAAI,CACA,KAAM,CAAAK,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,YAAY,CAAG,wBAAwB,CAAG,+DAA+D,CAElJ,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAnB,KAAK,CAACoB,IAAI,CAACL,OAAO,CAAE,CAAEJ,GAAG,CAAEA,GAAI,CAAC,CAAC,CAExDD,WAAW,CAACS,QAAQ,CAACE,IAAI,CAACC,QAAQ,CAAC,CACnCb,iBAAiB,CAAC,CACdc,SAAS,CAAEJ,QAAQ,CAACE,IAAI,CAACE,SAAS,CAClCC,KAAK,CAAEL,QAAQ,CAACE,IAAI,CAACG,KACzB,CAAC,CAAC,CAEN,CAAE,MAAOC,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACVnB,QAAQ,CAAC,EAAAkB,aAAA,CAAAD,GAAG,CAACN,QAAQ,UAAAO,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAcL,IAAI,UAAAM,kBAAA,iBAAlBA,kBAAA,CAAoBC,KAAK,GAAI,6BAA6B,CAAC,CACpEC,OAAO,CAACD,KAAK,CAACH,GAAG,CAAC,CACtB,CAAC,OAAS,CACNlB,YAAY,CAAC,KAAK,CAAC,CACvB,CACJ,CAAC,CAED,mBACIH,KAAA,QAAK0B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACjB7B,IAAA,OAAA6B,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvB3B,KAAA,QAAK0B,SAAS,CAAC,aAAa,CAAAC,QAAA,eACxB7B,IAAA,UACI8B,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEtB,GAAI,CACXuB,QAAQ,CAAGC,CAAC,EAAKvB,MAAM,CAACuB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACxCI,WAAW,CAAC,2BAA2B,CAC1C,CAAC,cACFnC,IAAA,WAAQoC,OAAO,CAAEzB,aAAc,CAAAkB,QAAA,CAAC,SAAO,CAAQ,CAAC,EAC/C,CAAC,EACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAA1B,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}