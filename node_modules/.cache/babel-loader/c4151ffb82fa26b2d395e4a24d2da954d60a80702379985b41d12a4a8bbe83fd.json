{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/Sentiment_Analysis-of-social-media/frontend/src/components/TrendingPosts.js\",\n  _s = $RefreshSig$();\n// frontend/src/components/TrendingPosts.js\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TrendingPosts = () => {\n  _s();\n  const [trends, setTrends] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [lastUpdated, setLastUpdated] = useState(null);\n  const fetchTrends = async () => {\n    setIsLoading(true);\n    setError('');\n    try {\n      const apiBase = process.env.REACT_APP_BACKEND_URL || \"http://127.0.0.1:8080\";\n      const response = await axios.get(`${apiBase}/api/trending`);\n      setTrends(response.data);\n      setLastUpdated(new Date());\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(\"Error fetching trends:\", err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'Could not load trends.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchTrends(); // fetch only once on mount\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Live Posts from X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this), lastUpdated && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: '0.8rem',\n          color: '#505f79'\n        },\n        children: [\"Updated at: \", lastUpdated.toLocaleTimeString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading posts...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: '#bf2600'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: trends.map((trend, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          marginBottom: '15px',\n          paddingBottom: '15px',\n          borderBottom: '1px solid #eee',\n          listStyle: 'none'\n        },\n        children: [trend.text || trend, \" \"]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: fetchTrends,\n      style: {\n        marginTop: '10px'\n      },\n      children: \"Refresh Posts\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n};\n_s(TrendingPosts, \"pUjNfFj+5ywOuAKhtaWP7B01/es=\");\n_c = TrendingPosts;\nexport default TrendingPosts;\nvar _c;\n$RefreshReg$(_c, \"TrendingPosts\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","TrendingPosts","_s","trends","setTrends","isLoading","setIsLoading","error","setError","lastUpdated","setLastUpdated","fetchTrends","apiBase","process","env","REACT_APP_BACKEND_URL","response","get","data","Date","err","_err$response","_err$response$data","console","className","children","style","display","justifyContent","alignItems","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","color","toLocaleTimeString","map","trend","index","marginBottom","paddingBottom","borderBottom","listStyle","text","onClick","marginTop","_c","$RefreshReg$"],"sources":["/home/ubuntu/Sentiment_Analysis-of-social-media/frontend/src/components/TrendingPosts.js"],"sourcesContent":["// frontend/src/components/TrendingPosts.js\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst TrendingPosts = () => {\n    const [trends, setTrends] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState('');\n    const [lastUpdated, setLastUpdated] = useState(null);\n\n    const fetchTrends = async () => {\n        setIsLoading(true);\n        setError('');\n\n        try {\n            const apiBase = process.env.REACT_APP_BACKEND_URL || \"http://127.0.0.1:8080\";\n            const response = await axios.get(`${apiBase}/api/trending`);\n            setTrends(response.data);\n            setLastUpdated(new Date());\n        } catch (err) {\n            console.error(\"Error fetching trends:\", err);\n            setError(err.response?.data?.error || 'Could not load trends.');\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        fetchTrends(); // fetch only once on mount\n    }, []);\n\n    return (\n        <div className=\"card\">\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                <h2>Live Posts from X</h2>\n                {lastUpdated && (\n                    <span style={{ fontSize: '0.8rem', color: '#505f79' }}>\n                        Updated at: {lastUpdated.toLocaleTimeString()}\n                    </span>\n                )}\n            </div>\n            {isLoading ? (\n                <p>Loading posts...</p>\n            ) : error ? (\n                <p style={{ color: '#bf2600' }}>{error}</p>\n            ) : (\n                <ul>\n                    {trends.map((trend, index) => (\n                        <li\n                            key={index}\n                            style={{\n                                marginBottom: '15px',\n                                paddingBottom: '15px',\n                                borderBottom: '1px solid #eee',\n                                listStyle: 'none',\n                            }}\n                        >\n                            {trend.text || trend} {/* support fallback data */}\n                        </li>\n                    ))}\n                </ul>\n            )}\n            <button onClick={fetchTrends} style={{ marginTop: '10px' }}>\n                Refresh Posts\n            </button>\n        </div>\n    );\n};\n\nexport default TrendingPosts;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}