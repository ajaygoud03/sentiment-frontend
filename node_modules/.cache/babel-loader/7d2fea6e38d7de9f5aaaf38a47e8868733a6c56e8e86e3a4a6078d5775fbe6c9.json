{"ast":null,"code":"// frontend/src/components/TrendingPosts.js\nimport React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TrendingPosts=()=>{const[trends,setTrends]=useState([]);const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState('');const[lastUpdated,setLastUpdated]=useState(null);const fetchTrends=async()=>{setIsLoading(true);setError('');try{const apiBase=process.env.REACT_APP_BACKEND_URL||\"http://127.0.0.1:8080\";const response=await axios.get(\"\".concat(apiBase,\"/api/trending\"));setTrends(response.data);setLastUpdated(new Date());}catch(err){var _err$response,_err$response$data;console.error(\"Error fetching trends:\",err);setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||'Could not load trends.');}finally{setIsLoading(false);}};useEffect(()=>{fetchTrends();// fetch only once on mount\n},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Live Posts from X\"}),lastUpdated&&/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.8rem',color:'#505f79'},children:[\"Updated at: \",lastUpdated.toLocaleTimeString()]})]}),isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading posts...\"}):error?/*#__PURE__*/_jsx(\"p\",{style:{color:'#bf2600'},children:error}):/*#__PURE__*/_jsx(\"ul\",{children:trends.map((trend,index)=>/*#__PURE__*/_jsxs(\"li\",{style:{marginBottom:'15px',paddingBottom:'15px',borderBottom:'1px solid #eee',listStyle:'none'},children:[trend.text||trend,\" \"]},index))}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchTrends,style:{marginTop:'10px'},children:\"Refresh Posts\"})]});};export default TrendingPosts;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","TrendingPosts","trends","setTrends","isLoading","setIsLoading","error","setError","lastUpdated","setLastUpdated","fetchTrends","apiBase","process","env","REACT_APP_BACKEND_URL","response","get","concat","data","Date","err","_err$response","_err$response$data","console","className","children","style","display","justifyContent","alignItems","fontSize","color","toLocaleTimeString","map","trend","index","marginBottom","paddingBottom","borderBottom","listStyle","text","onClick","marginTop"],"sources":["/home/ubuntu/Sentiment_Analysis-of-social-media/frontend/src/components/TrendingPosts.js"],"sourcesContent":["// frontend/src/components/TrendingPosts.js\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst TrendingPosts = () => {\n    const [trends, setTrends] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState('');\n    const [lastUpdated, setLastUpdated] = useState(null);\n\n    const fetchTrends = async () => {\n        setIsLoading(true);\n        setError('');\n\n        try {\n            const apiBase = process.env.REACT_APP_BACKEND_URL || \"http://127.0.0.1:8080\";\n            const response = await axios.get(`${apiBase}/api/trending`);\n            setTrends(response.data);\n            setLastUpdated(new Date());\n        } catch (err) {\n            console.error(\"Error fetching trends:\", err);\n            setError(err.response?.data?.error || 'Could not load trends.');\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        fetchTrends(); // fetch only once on mount\n    }, []);\n\n    return (\n        <div className=\"card\">\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                <h2>Live Posts from X</h2>\n                {lastUpdated && (\n                    <span style={{ fontSize: '0.8rem', color: '#505f79' }}>\n                        Updated at: {lastUpdated.toLocaleTimeString()}\n                    </span>\n                )}\n            </div>\n            {isLoading ? (\n                <p>Loading posts...</p>\n            ) : error ? (\n                <p style={{ color: '#bf2600' }}>{error}</p>\n            ) : (\n                <ul>\n                    {trends.map((trend, index) => (\n                        <li\n                            key={index}\n                            style={{\n                                marginBottom: '15px',\n                                paddingBottom: '15px',\n                                borderBottom: '1px solid #eee',\n                                listStyle: 'none',\n                            }}\n                        >\n                            {trend.text || trend} {/* support fallback data */}\n                        </li>\n                    ))}\n                </ul>\n            )}\n            <button onClick={fetchTrends} style={{ marginTop: '10px' }}>\n                Refresh Posts\n            </button>\n        </div>\n    );\n};\n\nexport default TrendingPosts;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}